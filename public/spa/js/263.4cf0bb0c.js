"use strict";(globalThis["webpackChunkuivideoapp"]=globalThis["webpackChunkuivideoapp"]||[]).push([[263],{3563:(e,t,o)=>{o.d(t,{h:()=>n});var a=o(7524);const n=a.Z.create({baseURL:`http://${window.location.hostname}:3000/api`})},3910:(e,t,o)=>{o.d(t,{A3:()=>m,Qi:()=>i,Zi:()=>u,hY:()=>l,l0:()=>d,sT:()=>r,wO:()=>s,xl:()=>c});var a=o(3563),n=o(9043);const l=async()=>{try{const e=await a.h.get("/fn/play");console.log(e.data)}catch(e){console.error(e)}},s=async()=>{try{const e=await a.h.get("/fn/pause");console.log(e.data)}catch(e){console.error(e)}},r=async()=>{try{const e=await a.h.get("/fn/stop");console.log(e.data)}catch(e){console.error(e)}},c=async e=>{try{const t=await a.h.get("/fn/loadfile",{params:{file:encodeURI(e.fullPath)}});console.log(t.data)}catch(t){console.error(t)}},i=async e=>{try{await a.h.get("/fn/loadFile",{params:{file:encodeURI(e.fullPath)}});const t=setInterval((()=>{"ready"===n.ym.value.status.status&&(l(),clearInterval(t))}),100)}catch(t){console.error(t)}},u=async e=>{try{const e=await a.h.get("/fn/fastforward",{params:{time:5}});console.log(e)}catch(t){console.error(t)}},d=async e=>{try{const e=await a.h.get("/fn/rewind",{params:{time:5}});console.log(e)}catch(t){console.error(t)}},m=async e=>{try{await a.h.get("/fn/setfullscreen",{params:{fullscreen:e||!0}})}catch(t){console.error(t)}}},9043:(e,t,o)=>{o.d(t,{GH:()=>r,Hb:()=>u,PW:()=>d,Pd:()=>f,Uh:()=>i,_v:()=>m,hG:()=>p,rm:()=>c,ym:()=>s});var a=o(3563),n=o(499),l=o(2530);const s=(0,n.iH)({}),r=(0,n.iH)({duration:0,currentTime:0,remaining:0}),c=(0,n.iH)(!1),i=(0,n.iH)(""),u=(0,n.iH)([]),d=async()=>{try{const e=await a.h.get("/fn/devices");console.log(e)}catch(e){console.error(e)}},m=async()=>{try{const e=await a.h.get("/fn/device");console.log(e)}catch(e){console.error(e)}},p=async e=>{try{const t=await a.h.post("/fn/setDevice",{deviceId:e});console.log(t)}catch(t){console.error(t)}},f=e=>l.ms.to(l.m,l.s)(e).map((e=>e<10?"0"+e:e.toString())).join(":")},6410:(e,t,o)=>{o.d(t,{Z:()=>u});var a=o(9835),n=o(6970);const l={__name:"tooltipDelay",props:{msg:String},setup(e){const t=e;return(e,o)=>{const l=(0,a.up)("q-tooltip");return(0,a.wg)(),(0,a.j4)(l,{class:"tooltop-bg",anchor:"top middle",self:"bottom middle",offset:[10,10],delay:500,style:{background:"#888888aa"}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.msg),1)])),_:1})}}};var s=o(6858),r=o(9984),c=o.n(r);const i=l,u=i;c()(l,"components",{QTooltip:s.Z})},5263:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ue});o(9665);var a=o(9835),n=o(499),l=o(8339),s=o(3340),r=o(3819);const c=(0,r.io)(`http://${window.location.hostname}:3000`,{reconnectionDelayMax:5e3,transports:["websocket"],autoConnect:!0,query:{type:"client"}});(0,s.xr)((({app:e})=>{e.config.globalProperties.$socketio=c}));var i=o(9043),u=o(6970);const d={class:"q-gutter-x-md",style:{"padding-top":"5px"}},m=(0,a._)("div",null,"PLAYLIST",-1),p=(0,a._)("div",null,"FILES",-1),f=(0,a._)("div",null,"SETUP",-1),y={__name:"headerMenus",setup(e){const t=(0,l.tv)(),o=(0,n.iH)("/"),s=e=>{o.value=e};return(0,a.bv)((()=>{o.value=t.currentRoute.value.path})),(e,t)=>{const n=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(n,{class:(0,u.C_)("/playlist"===o.value?"bg-grey-2":""),style:{"border-radius":"10px"},flat:"",to:"/playlist",onClick:t[0]||(t[0]=e=>s("/playlist"))},{default:(0,a.w5)((()=>[m])),_:1},8,["class"]),(0,a.Wm)(n,{class:(0,u.C_)("/files"===o.value?"bg-grey-2":""),style:{"border-radius":"10px"},flat:"",to:"/files",onClick:t[1]||(t[1]=e=>s("/files"))},{default:(0,a.w5)((()=>[p])),_:1},8,["class"]),(0,a.Wm)(n,{class:(0,u.C_)("/setup"===o.value?"bg-grey-2":""),style:{"border-radius":"10px"},flat:"",to:"/setup",onClick:t[2]||(t[2]=e=>s("/setup"))},{default:(0,a.w5)((()=>[f])),_:1},8,["class"])])}}};var v=o(4455),w=o(9984),g=o.n(w);const _=y,h=_;g()(y,"components",{QBtn:v.Z});const k={class:"q-gutter-x-md",style:{"padding-top":"5px"}};function S(e,t){const o=(0,a.up)("q-item-section"),n=(0,a.up)("q-item"),l=(0,a.up)("q-list"),s=(0,a.up)("q-menu"),r=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)("div",k,[(0,a.Wm)(r,{style:{"border-radius":"10px"},flat:"",icon:"menu"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l,{separator:"",style:{"min-width":"150px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{clickable:"",to:"/playlist"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" PLAYLIST ")])),_:1})])),_:1}),(0,a.Wm)(n,{clickable:"",to:"/files"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" FILES ")])),_:1})])),_:1}),(0,a.Wm)(n,{clickable:"",to:"/setup"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" SETUP ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}var U=o(1639),b=o(6362),W=o(3246),C=o(490),q=o(1233);const x={},Z=(0,U.Z)(x,[["render",S]]),H=Z;g()(x,"components",{QBtn:v.Z,QMenu:b.Z,QList:W.Z,QItem:C.Z,QItemSection:q.Z});const P={class:"row no-wrap items-center q-gutter-x-sm"},Q={class:"timeText"},T={__name:"timeSlider",setup(e){(0,n.iH)(0);const t=e=>{c.emit("ioCommands",{command:"pan",value:e})},o=e=>{c.emit("ioCommands",{command:"seek",seekTime:e})};return(e,l)=>{const s=(0,a.up)("q-slider");return(0,a.wg)(),(0,a.iD)("div",P,[(0,a.Wm)(s,{"model-value":(0,n.SU)(i.GH).currentTime,min:0,max:(0,n.SU)(i.GH).duration,step:.01,"label-value":(0,n.SU)(i.Pd)(1e3*(0,n.SU)(i.GH).currentTime),label:"","onUpdate:modelValue":o,onPan:t},null,8,["model-value","max","label-value"]),(0,a._)("div",Q,(0,u.zw)((0,n.SU)(i.Pd)(1e3*(0,n.SU)(i.GH).currentTime))+" / "+(0,u.zw)((0,n.SU)(i.Pd)(1e3*(0,n.SU)(i.GH).duration)),1)])}}};var z=o(6096);const I=(0,U.Z)(T,[["__scopeId","data-v-9d804bb4"]]),j=I;g()(T,"components",{QSlider:z.Z});const L={class:"row no-wrap justify-center items-center q-gutter-x-xs"},D={class:"name"},F={key:0},G={key:1},A={class:"text-caption"},E={__name:"sourceName",setup(e){const t=e=>{try{let t=e.file.meta.streams;if(t)for(let e=0;e<t.length;e++)if(t[e].channels)return 2==t[e].channels?"Stereo":6==t[e].channels?"5.1":8==t[e].channels?"7.1":t[e].channels}catch(t){}};return(e,o)=>{const l=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)("div",L,[(0,a._)("div",D,[(0,n.SU)(i.ym).file&&(0,n.SU)(i.ym).file.name?((0,a.wg)(),(0,a.iD)("div",F,(0,u.zw)((0,n.SU)(i.ym).file.name),1)):((0,a.wg)(),(0,a.iD)("div",G,"Please load media file"))]),(0,a._)("div",A,(0,u.zw)(t((0,n.SU)(i.ym))),1),(0,n.SU)(i.ym).file&&(0,n.SU)(i.ym).file.name?((0,a.wg)(),(0,a.j4)(l,{key:0,flat:"",round:"",icon:"info",color:"primary",size:"sm",onClick:o[0]||(o[0]=e=>console.log((0,n.SU)(i.ym)))})):(0,a.kq)("",!0)])}}},B=E,M=B;g()(E,"components",{QBtn:v.Z});var R=o(3910),Y=o(6410);const $={class:"q-pb-md"},O={class:"q-px-md"},N={class:"row no-wrap justify-center items-center q-gutter-x-xs"},J={class:"row no-wrap justify-center items-center"},V={__name:"playerControls",setup(e){const t=()=>{if(i.ym.value.status&&i.ym.value.status.status){let e;switch(i.ym.value.status.status){case"play":case"playing":e=!0;break;default:e=!1;break}return e}return!1};return(e,o)=>{const l=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)("div",$,[(0,a._)("div",O,[(0,a.Wm)((0,n.SU)(j))]),(0,a._)("div",N,[(0,a.Wm)((0,n.SU)(M))]),(0,a._)("div",J,[(0,a._)("div",null,[(0,a.Wm)(l,{flat:"",round:"",icon:"skip_previous",color:"primary",size:"md"}),(0,a.Wm)(l,{flat:"",round:"",icon:"fast_rewind",color:"primary",size:"md",onClick:(0,n.SU)(R.l0)},null,8,["onClick"])]),(0,a._)("div",null,[t()?((0,a.wg)(),(0,a.j4)(l,{key:0,flat:"",round:"",color:"yellow-6",icon:"pause",size:"lg",onClick:o[0]||(o[0]=e=>(0,n.SU)(R.wO)())})):((0,a.wg)(),(0,a.j4)(l,{key:1,flat:"",round:"",color:"primary",icon:"play_arrow",size:"lg",onClick:o[1]||(o[1]=e=>(0,n.SU)(R.hY)())}))]),(0,a.Wm)(l,{flat:"",round:"",icon:"stop",color:"red-10",size:"lg",onClick:(0,n.SU)(R.sT)},null,8,["onClick"]),(0,a._)("div",null,[(0,a.Wm)(l,{flat:"",round:"",icon:"fast_forward",color:"primary",size:"md",onClick:(0,n.SU)(R.Zi)},null,8,["onClick"]),(0,a.Wm)(l,{flat:"",round:"",icon:"skip_next",color:"primary",size:"md"})]),(0,a._)("div",null,[(0,n.SU)(i.rm)?((0,a.wg)(),(0,a.j4)(l,{key:0,round:"",flat:"",icon:"fullscreen",onClick:o[2]||(o[2]=e=>(0,n.SU)(R.A3)(!0))},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(Y.Z),{msg:"Leave Fullscreen"})])),_:1})):((0,a.wg)(),(0,a.j4)(l,{key:1,round:"",flat:"",icon:"fullscreen",onClick:o[3]||(o[3]=e=>(0,n.SU)(R.A3)(!0))},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(Y.Z),{msg:"Enter Fullscreen"})])),_:1}))])])])}}},K=V,X=K;g()(V,"components",{QBtn:v.Z});const ee=e=>((0,a.dD)("data-v-ea986056"),e=e(),(0,a.Cn)(),e),te=ee((()=>(0,a._)("div",{class:"header-font"},"Player Controls",-1))),oe={class:"router-view"},ae={__name:"MainLayout",setup(e){const t=(0,l.tv)();return(0,a.wF)((()=>{c.on("connect",(()=>{console.log(`connecting to socket.io id=${c.id}`)})),c.on("playerstate",(e=>{i.ym.value={...e}})),c.on("status",(e=>{i.ym.value={...e}})),c.on("times",(e=>{i.GH.value={...e}})),c.on("devices",(e=>{i.Hb.value=JSON.parse(e).filter((e=>"audiooutput"==e.kind))})),c.on("device",(e=>{i.Uh.value=e.device?e.device:"default"})),c.on("fullscreen",(e=>{i.rm.value=e.fullscreen}))})),(e,o)=>{const l=(0,a.up)("q-icon"),s=(0,a.up)("q-header"),r=(0,a.up)("router-view"),c=(0,a.up)("q-page-container"),i=(0,a.up)("q-footer"),u=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(u,{view:"lHh Lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{class:"header row justify-between items-center"},{default:(0,a.w5)((()=>[(0,a._)("div",{class:"row q-gutter-x-sm pointer",onClick:o[0]||(o[0]=e=>(0,n.SU)(t).push("/"))},[(0,a.Wm)(l,{name:"svguse:icons.svg#logo",size:"md"}),te]),(0,a.Wm)(h,{class:"gt-xs"}),(0,a.Wm)((0,n.SU)(H),{class:"lt-sm"})])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a._)("div",oe,[(0,a.Wm)(r)])])),_:1}),(0,a.Wm)(i,{class:"footer"},{default:(0,a.w5)((()=>[(0,a.Wm)(X)])),_:1})])),_:1})}}};var ne=o(7605),le=o(6602),se=o(2857),re=o(2133),ce=o(1378);const ie=(0,U.Z)(ae,[["__scopeId","data-v-ea986056"]]),ue=ie;g()(ae,"components",{QLayout:ne.Z,QHeader:le.Z,QIcon:se.Z,QPageContainer:re.Z,QFooter:ce.Z})}}]);